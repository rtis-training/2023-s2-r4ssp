<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Zoom Notes 08: Repeating Code</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R4SSP Semester 2 2022</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Modules
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Intro</li>
    <li>
      <a href="01-intro.html">Intro to R and RStudio</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Data Focus</li>
    <li>
      <a href="02-visualise.html">Part 1: Visualising</a>
    </li>
    <li>
      <a href="03-subset.html">Part 2: Subsetting</a>
    </li>
    <li>
      <a href="04-summarise.html">Part 3: Summarising</a>
    </li>
    <li>
      <a href="05-transform.html">Part 4: Transforming</a>
    </li>
    <li>
      <a href="06-communicate.html">Part 5: Communicating</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Programming focus</li>
    <li>
      <a href="07-functions.html">Functions and Choices</a>
    </li>
    <li>
      <a href="08-iterate.html">Repeating Code</a>
    </li>
    <li>
      <a href="09-workflows.html">Workflows</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Zoom Notes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="zoom_notes_01.html">01 - Introducing R and RStudio</a>
    </li>
    <li>
      <a href="zoom_notes_02.html">02 - Visualising data</a>
    </li>
    <li>
      <a href="zoom_notes_03.html">03 - Subsetting data</a>
    </li>
    <li>
      <a href="zoom_notes_04.html">04 - Summarising data</a>
    </li>
    <li>
      <a href="zoom_notes_05.html">05 - Transforming data</a>
    </li>
    <li>
      <a href="zoom_notes_06.html">06 - Communicating data</a>
    </li>
    <li>
      <a href="zoom_notes_07.html">07 - Functions and Choices</a>
    </li>
    <li>
      <a href="zoom_notes_08.html">08 - Repeating Code</a>
    </li>
    <li>
      <a href="zoom_notes_09.html">09 - Workflows</a>
    </li>
  </ul>
</li>
<li>
  <a href="about.html">About</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Zoom Notes 08: Repeating Code</h1>
<h4 class="date">Semester 2, 2022</h4>

</div>


<blockquote>
<h4 id="associated-material">Associated Material</h4>
<p>Module: <a href="04-iterate.html">Module 08 - Iteration</a></p>
<p>Readings</p>
<ul>
<li><a href="https://r4ds.had.co.nz/iteration.html">R for Data Science -
Chapter 21</a></li>
</ul>
</blockquote>
<div id="topics" class="section level1">
<h1>Topics</h1>
<div id="iteration-use-cases" class="section level2">
<h2>Iteration Use Cases</h2>
</div>
<div id="for-loops" class="section level2">
<h2>For loops</h2>
<ul>
<li>Syntax</li>
<li>Sequence options</li>
<li>Loop driver variable</li>
<li>Nested for loops</li>
</ul>
</div>
<div id="while-loops" class="section level2">
<h2>While loops</h2>
<ul>
<li>Syntax</li>
<li>Loop conditions</li>
<li>Infinite while loops</li>
</ul>
</div>
<div id="alternatives-for-single-function-loops" class="section level2">
<h2>Alternatives for single function loops</h2>
<ul>
<li>Map family</li>
<li>Apply family</li>
</ul>
</div>
</div>
<div id="exercises" class="section level1">
<h1>Exercises</h1>
<div id="loop-driver-practice" class="section level3">
<h3>Loop Driver Practice</h3>
<p>Write a for loop that prints <strong>the even numbers</strong>
between 2 and 20. That is, you should print 2, 4, 6, 8… There are
multiple ways to achieve this outcome. Get more practice working with
loop driver variables by trying to find two different solutions. Hint:
If you’ve never used the <strong>modulo operator</strong>, this is a
good time to learn (see for example, <a
href="https://www.geeksforgeeks.org/r-operators/"
class="uri">https://www.geeksforgeeks.org/r-operators/</a>). Repeat the
exercise, with a while loop.</p>
</div>
<div id="modeling-and-simulation-with-stochasticity"
class="section level3">
<h3>Modeling and simulation with stochasticity</h3>
<p><strong>Mathematical modeling</strong> is a discipline of study where
complex, stochastic phenomena are described using deterministic,
empirically testable systems. These systems often involve advanced
mathematical techniques. For example, one can define a mathematical
model for the response of an architectural design to ground
disturbances, and use it to predict the ability of the building to
withstand earthquakes of varying intensity. Or one can model the effect
of habitat loss on a prey species and use that to predict impacts on an
entire food chain.</p>
<p>Because such systems are generally stochastic (i.e. there is random
variability in their behaviour), modeled effects are usually simulated
many, many times, and a distribution of outcomes produced. While the
code required to simulate a system can be very complex, the process of
running it many times and accruing the results is easy – just use a for
loop.</p>
<p>For example, we have used the function <code>rnorm</code> to randomly
select a single value from a normal distribution. In a mature language
like R, we can assume that this function behaves correctly, but this is
a testable claim. If we were to select many, many single values with
<code>rnorm</code> and plot them, we would expect them to be normally
distributed. (Note that is is actually possible to select multiple
values with rnorm without looping, but we will ignore that small fact
for this example.) This simple simulation illustrates the
<strong>loop-compute-accrue</strong> computational pattern, which forms
the basis of much modern computer modelling and simulation.</p>
<pre class="r"><code># Number of trials to run -- more is generally better
n_trials &lt;- 10000

# Vector to store results in
sample_value_vector &lt;- c()

# Simulation parameters
sim_mean &lt;- 100
sim_sd &lt;- 10

# Loop, compute, accrue
for (trial in 1:n_trials)
{
  # Compute -- IRL can be 1000s of lines of code here
  sample_value &lt;- rnorm(1, sim_mean, sim_sd)
  
  # Accrue results, using the loop driver to add each
  # value on to the end of the vector
  sample_value_vector[trial] &lt;- sample_value
}


# At the end of the for loop, we have 10,000 values
# gathered in sample_value_vector, and we can plot them
# to confirm that they are, in fact, distributed normally

hist(sample_value_vector)</code></pre>
<p><img src="figures/08/rnorm%20test-1.png" width="672" /></p>
<p>Last week, we wrote a function to play Rock-Paper-Scissors, where
each player selected randomly from the three possible moves. (If you
didn’t write that function, you can use the version shown below.) Use
the loop-compute-accrue pattern to determine the probability of the game
ending in a draw (i.e. both players make the same move) if both players
are selecting their move randomly.</p>
<div id="the-game" class="section level4">
<h4>The game</h4>
<pre class="r"><code>rock_paper_scissors &lt;- function()
{
  # Vector of the three possible moves
  moves &lt;- c(&quot;rock&quot;, &quot;paper&quot;, &quot;scissors&quot;)
  
  # Randomly select a move for Bob
  bob_move &lt;- sample(moves,1)
  
  # Randomly select a move for Fred
  fred_move &lt;- sample(moves,1)
  
  
  # Work through the game win conditions
  if (bob_move == fred_move){
    winner = &quot;draw&quot;
  }
  
  if( bob_move == &quot;rock&quot;){
    if (fred_move == &quot;paper&quot;){
      winner = &quot;fred&quot;
    }
    if (fred_move == &quot;scissors&quot;){
      winner = &quot;bob&quot;
    }
      
  }
  
  if (bob_move == &quot;paper&quot;){
    if (fred_move == &quot;rock&quot;){
      winner = &quot;bob&quot;
    }
    if (fred_move == &quot;scissors&quot;){
      winner = &quot;fred&quot;
    }
  }
  
  if (bob_move == &quot;scissors&quot;) {
    if (fred_move == &quot;rock&quot;){
      winner = &quot;fred&quot;
    }
    if (fred_move == &quot;paper&quot;){
      winner = &quot;bob&quot;
    }
  }
  
  # Return the winner
  return(winner)
} # end rock_paper_scissors</code></pre>
</div>
<div id="the-simulation" class="section level4">
<h4>The simulation</h4>
<pre class="r"><code># Number of trials to run -- more is usually better
n_trials &lt;- 100000

# Vector to accrue results
game_result_vector &lt;- c()

# Loop
for (i in 1:n_trials)
{
  # Compute the winner
  game_result &lt;- rock_paper_scissors()
  
  # Accrue
  game_result_vector[i] &lt;- game_result
}


# At the end of the for loop, we have 100,000 game results.
# We can find the frequency distribution of these categorical
# data using function table

fd &lt;- table(game_result_vector)
print(fd)
#&gt; game_result_vector
#&gt;   bob  draw  fred 
#&gt; 33407 33096 33497</code></pre>
<p>Our simulation shows that, when both players select their moves
randomly, the probability of a draw is approximately 1/3, as is the
probability of each player winning. That is, all outcomes are equally
likely.</p>
</div>
<div id="comparing-strategies" class="section level4">
<h4>Comparing strategies</h4>
<p>When very small children play Rock-Paper-Scissors, they often pick
one move and use it every time. This makes them extremely easy to beat.
Modify your game function so that one of the players (e.g. “bob” in my
solution) always picks Scissors. What outcome probabilities would you
predict under this new strategy, where one player’s move is fixed?
Repeat your simulation. Was your prediction confirmed? If not, explain
the unexpected result.</p>
</div>
</div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiWm9vbSBOb3RlcyAwODogUmVwZWF0aW5nIENvZGUiCmRhdGU6ICJTZW1lc3RlciAyLCAyMDIyIgpvdXRwdXQ6CiAgaHRtbF9kb2N1bWVudDoKICAgIHRvYzogdHJ1ZQogICAgdG9jX2Zsb2F0OiB0cnVlCiAgICB0b2NfZGVwdGg6IDMKICAgIGNvZGVfZG93bmxvYWQ6IHRydWUKICAgIGNvZGVfZm9sZGluZzogc2hvdwotLS0KCmBgYHtyIHNldHVwLCBpbmNsdWRlPUZBTFNFfQpsaWJyYXJ5KGtuaXRyKQoKa25pdHI6Om9wdHNfY2h1bmskc2V0KAogIGNvbW1lbnQgPSAiIz4iLAogIGZpZy5wYXRoID0gImZpZ3VyZXMvMDgvIiwgIyB1c2Ugb25seSBmb3Igc2luZ2xlIFJtZCBmaWxlcwogIGNvbGxhcHNlID0gVFJVRSwKICBlY2hvID0gVFJVRQopCmBgYAoKCj4gIyMjIyBBc3NvY2lhdGVkIE1hdGVyaWFsCj4KPiBNb2R1bGU6IFtNb2R1bGUgMDggLSBJdGVyYXRpb25dKDA0LWl0ZXJhdGUuaHRtbCkKPgo+IFJlYWRpbmdzCj4KPiAtIFtSIGZvciBEYXRhIFNjaWVuY2UgLSBDaGFwdGVyIDIxXShodHRwczovL3I0ZHMuaGFkLmNvLm56L2l0ZXJhdGlvbi5odG1sKQoKCiMgVG9waWNzCgojIyBJdGVyYXRpb24gVXNlIENhc2VzCgojIyBGb3IgbG9vcHMKCi0gIFN5bnRheAotICBTZXF1ZW5jZSBvcHRpb25zCi0gIExvb3AgZHJpdmVyIHZhcmlhYmxlCi0gIE5lc3RlZCBmb3IgbG9vcHMKCiMjIFdoaWxlIGxvb3BzCgotICBTeW50YXgKLSAgTG9vcCBjb25kaXRpb25zCi0gIEluZmluaXRlIHdoaWxlIGxvb3BzCgojIyBBbHRlcm5hdGl2ZXMgZm9yIHNpbmdsZSBmdW5jdGlvbiBsb29wcwoKLSAgTWFwIGZhbWlseQotICBBcHBseSBmYW1pbHkKCiMgRXhlcmNpc2VzCgojIyMgTG9vcCBEcml2ZXIgUHJhY3RpY2UKCldyaXRlIGEgZm9yIGxvb3AgdGhhdCBwcmludHMgKip0aGUgZXZlbiBudW1iZXJzKiogYmV0d2VlbiAyIGFuZCAyMC4gVGhhdCBpcywgeW91IHNob3VsZCBwcmludCAyLCA0LCA2LCA4Li4uIFRoZXJlIGFyZSBtdWx0aXBsZSB3YXlzIHRvIGFjaGlldmUgdGhpcyBvdXRjb21lLiBHZXQgbW9yZSBwcmFjdGljZSB3b3JraW5nIHdpdGggbG9vcCBkcml2ZXIgdmFyaWFibGVzIGJ5IHRyeWluZyB0byBmaW5kIHR3byBkaWZmZXJlbnQgc29sdXRpb25zLiBIaW50OiBJZiB5b3UndmUgbmV2ZXIgdXNlZCB0aGUgKiptb2R1bG8gb3BlcmF0b3IqKiwgdGhpcyBpcyBhIGdvb2QgdGltZSB0byBsZWFybiAoc2VlIGZvciBleGFtcGxlLCBodHRwczovL3d3dy5nZWVrc2ZvcmdlZWtzLm9yZy9yLW9wZXJhdG9ycy8pLiBSZXBlYXQgdGhlIGV4ZXJjaXNlLCB3aXRoIGEgd2hpbGUgbG9vcC4KCgojIyMgTW9kZWxpbmcgYW5kIHNpbXVsYXRpb24gd2l0aCBzdG9jaGFzdGljaXR5CgoqKk1hdGhlbWF0aWNhbCBtb2RlbGluZyoqIGlzIGEgZGlzY2lwbGluZSBvZiBzdHVkeSB3aGVyZSBjb21wbGV4LCBzdG9jaGFzdGljIHBoZW5vbWVuYSBhcmUgZGVzY3JpYmVkIHVzaW5nIGRldGVybWluaXN0aWMsIGVtcGlyaWNhbGx5IHRlc3RhYmxlIHN5c3RlbXMuIFRoZXNlIHN5c3RlbXMgb2Z0ZW4gaW52b2x2ZSBhZHZhbmNlZCBtYXRoZW1hdGljYWwgdGVjaG5pcXVlcy4gRm9yIGV4YW1wbGUsIG9uZSBjYW4gZGVmaW5lIGEgbWF0aGVtYXRpY2FsIG1vZGVsIGZvciB0aGUgcmVzcG9uc2Ugb2YgYW4gYXJjaGl0ZWN0dXJhbCBkZXNpZ24gdG8gZ3JvdW5kIGRpc3R1cmJhbmNlcywgYW5kIHVzZSBpdCB0byBwcmVkaWN0IHRoZSBhYmlsaXR5IG9mIHRoZSBidWlsZGluZyB0byB3aXRoc3RhbmQgZWFydGhxdWFrZXMgb2YgdmFyeWluZyBpbnRlbnNpdHkuIE9yIG9uZSBjYW4gbW9kZWwgdGhlIGVmZmVjdCBvZiBoYWJpdGF0IGxvc3Mgb24gYSBwcmV5IHNwZWNpZXMgYW5kIHVzZSB0aGF0IHRvIHByZWRpY3QgaW1wYWN0cyBvbiBhbiBlbnRpcmUgZm9vZCBjaGFpbi4KCkJlY2F1c2Ugc3VjaCBzeXN0ZW1zIGFyZSBnZW5lcmFsbHkgc3RvY2hhc3RpYyAoaS5lLiB0aGVyZSBpcyByYW5kb20gdmFyaWFiaWxpdHkgaW4gdGhlaXIgYmVoYXZpb3VyKSwgbW9kZWxlZCBlZmZlY3RzIGFyZSB1c3VhbGx5IHNpbXVsYXRlZCBtYW55LCBtYW55IHRpbWVzLCBhbmQgYSBkaXN0cmlidXRpb24gb2Ygb3V0Y29tZXMgcHJvZHVjZWQuIFdoaWxlIHRoZSBjb2RlIHJlcXVpcmVkIHRvIHNpbXVsYXRlIGEgc3lzdGVtIGNhbiBiZSB2ZXJ5IGNvbXBsZXgsIHRoZSBwcm9jZXNzIG9mIHJ1bm5pbmcgaXQgbWFueSB0aW1lcyBhbmQgYWNjcnVpbmcgdGhlIHJlc3VsdHMgaXMgZWFzeSAtLSBqdXN0IHVzZSBhIGZvciBsb29wLgoKRm9yIGV4YW1wbGUsIHdlIGhhdmUgdXNlZCB0aGUgZnVuY3Rpb24gYHJub3JtYCB0byByYW5kb21seSBzZWxlY3QgYSBzaW5nbGUgdmFsdWUgZnJvbSBhIG5vcm1hbCBkaXN0cmlidXRpb24uIEluIGEgbWF0dXJlIGxhbmd1YWdlIGxpa2UgUiwgd2UgY2FuIGFzc3VtZSB0aGF0IHRoaXMgZnVuY3Rpb24gYmVoYXZlcyBjb3JyZWN0bHksIGJ1dCB0aGlzIGlzIGEgdGVzdGFibGUgY2xhaW0uIElmIHdlIHdlcmUgdG8gc2VsZWN0IG1hbnksIG1hbnkgc2luZ2xlIHZhbHVlcyB3aXRoIGBybm9ybWAgYW5kIHBsb3QgdGhlbSwgd2Ugd291bGQgZXhwZWN0IHRoZW0gdG8gYmUgbm9ybWFsbHkgZGlzdHJpYnV0ZWQuIChOb3RlIHRoYXQgaXMgaXMgYWN0dWFsbHkgcG9zc2libGUgdG8gc2VsZWN0IG11bHRpcGxlIHZhbHVlcyB3aXRoIHJub3JtIHdpdGhvdXQgbG9vcGluZywgYnV0IHdlIHdpbGwgaWdub3JlIHRoYXQgc21hbGwgZmFjdCBmb3IgdGhpcyBleGFtcGxlLikgVGhpcyBzaW1wbGUgc2ltdWxhdGlvbiBpbGx1c3RyYXRlcyB0aGUgKipsb29wLWNvbXB1dGUtYWNjcnVlKiogY29tcHV0YXRpb25hbCBwYXR0ZXJuLCB3aGljaCBmb3JtcyB0aGUgYmFzaXMgb2YgbXVjaCBtb2Rlcm4gY29tcHV0ZXIgbW9kZWxsaW5nIGFuZCBzaW11bGF0aW9uLgoKYGBge3Igcm5vcm0gdGVzdH0KIyBOdW1iZXIgb2YgdHJpYWxzIHRvIHJ1biAtLSBtb3JlIGlzIGdlbmVyYWxseSBiZXR0ZXIKbl90cmlhbHMgPC0gMTAwMDAKCiMgVmVjdG9yIHRvIHN0b3JlIHJlc3VsdHMgaW4Kc2FtcGxlX3ZhbHVlX3ZlY3RvciA8LSBjKCkKCiMgU2ltdWxhdGlvbiBwYXJhbWV0ZXJzCnNpbV9tZWFuIDwtIDEwMApzaW1fc2QgPC0gMTAKCiMgTG9vcCwgY29tcHV0ZSwgYWNjcnVlCmZvciAodHJpYWwgaW4gMTpuX3RyaWFscykKewogICMgQ29tcHV0ZSAtLSBJUkwgY2FuIGJlIDEwMDBzIG9mIGxpbmVzIG9mIGNvZGUgaGVyZQogIHNhbXBsZV92YWx1ZSA8LSBybm9ybSgxLCBzaW1fbWVhbiwgc2ltX3NkKQogIAogICMgQWNjcnVlIHJlc3VsdHMsIHVzaW5nIHRoZSBsb29wIGRyaXZlciB0byBhZGQgZWFjaAogICMgdmFsdWUgb24gdG8gdGhlIGVuZCBvZiB0aGUgdmVjdG9yCiAgc2FtcGxlX3ZhbHVlX3ZlY3Rvclt0cmlhbF0gPC0gc2FtcGxlX3ZhbHVlCn0KCgojIEF0IHRoZSBlbmQgb2YgdGhlIGZvciBsb29wLCB3ZSBoYXZlIDEwLDAwMCB2YWx1ZXMKIyBnYXRoZXJlZCBpbiBzYW1wbGVfdmFsdWVfdmVjdG9yLCBhbmQgd2UgY2FuIHBsb3QgdGhlbQojIHRvIGNvbmZpcm0gdGhhdCB0aGV5IGFyZSwgaW4gZmFjdCwgZGlzdHJpYnV0ZWQgbm9ybWFsbHkKCmhpc3Qoc2FtcGxlX3ZhbHVlX3ZlY3RvcikKYGBgCgpMYXN0IHdlZWssIHdlIHdyb3RlIGEgZnVuY3Rpb24gdG8gcGxheSBSb2NrLVBhcGVyLVNjaXNzb3JzLCB3aGVyZSBlYWNoIHBsYXllciBzZWxlY3RlZCByYW5kb21seSBmcm9tIHRoZSB0aHJlZSBwb3NzaWJsZSBtb3Zlcy4gKElmIHlvdSBkaWRuJ3Qgd3JpdGUgdGhhdCBmdW5jdGlvbiwgeW91IGNhbiB1c2UgdGhlIHZlcnNpb24gc2hvd24gYmVsb3cuKSBVc2UgdGhlIGxvb3AtY29tcHV0ZS1hY2NydWUgcGF0dGVybiB0byBkZXRlcm1pbmUgdGhlIHByb2JhYmlsaXR5IG9mIHRoZSBnYW1lIGVuZGluZyBpbiBhIGRyYXcgKGkuZS4gYm90aCBwbGF5ZXJzIG1ha2UgdGhlIHNhbWUgbW92ZSkgaWYgYm90aCBwbGF5ZXJzIGFyZSBzZWxlY3RpbmcgdGhlaXIgbW92ZSByYW5kb21seS4KCgojIyMjIFRoZSBnYW1lCmBgYHtyIGdhbWV9CnJvY2tfcGFwZXJfc2Npc3NvcnMgPC0gZnVuY3Rpb24oKQp7CiAgIyBWZWN0b3Igb2YgdGhlIHRocmVlIHBvc3NpYmxlIG1vdmVzCiAgbW92ZXMgPC0gYygicm9jayIsICJwYXBlciIsICJzY2lzc29ycyIpCiAgCiAgIyBSYW5kb21seSBzZWxlY3QgYSBtb3ZlIGZvciBCb2IKICBib2JfbW92ZSA8LSBzYW1wbGUobW92ZXMsMSkKICAKICAjIFJhbmRvbWx5IHNlbGVjdCBhIG1vdmUgZm9yIEZyZWQKICBmcmVkX21vdmUgPC0gc2FtcGxlKG1vdmVzLDEpCiAgCiAgCiAgIyBXb3JrIHRocm91Z2ggdGhlIGdhbWUgd2luIGNvbmRpdGlvbnMKICBpZiAoYm9iX21vdmUgPT0gZnJlZF9tb3ZlKXsKICAgIHdpbm5lciA9ICJkcmF3IgogIH0KICAKICBpZiggYm9iX21vdmUgPT0gInJvY2siKXsKICAgIGlmIChmcmVkX21vdmUgPT0gInBhcGVyIil7CiAgICAgIHdpbm5lciA9ICJmcmVkIgogICAgfQogICAgaWYgKGZyZWRfbW92ZSA9PSAic2Npc3NvcnMiKXsKICAgICAgd2lubmVyID0gImJvYiIKICAgIH0KICAgICAgCiAgfQogIAogIGlmIChib2JfbW92ZSA9PSAicGFwZXIiKXsKICAgIGlmIChmcmVkX21vdmUgPT0gInJvY2siKXsKICAgICAgd2lubmVyID0gImJvYiIKICAgIH0KICAgIGlmIChmcmVkX21vdmUgPT0gInNjaXNzb3JzIil7CiAgICAgIHdpbm5lciA9ICJmcmVkIgogICAgfQogIH0KICAKICBpZiAoYm9iX21vdmUgPT0gInNjaXNzb3JzIikgewogICAgaWYgKGZyZWRfbW92ZSA9PSAicm9jayIpewogICAgICB3aW5uZXIgPSAiZnJlZCIKICAgIH0KICAgIGlmIChmcmVkX21vdmUgPT0gInBhcGVyIil7CiAgICAgIHdpbm5lciA9ICJib2IiCiAgICB9CiAgfQogIAogICMgUmV0dXJuIHRoZSB3aW5uZXIKICByZXR1cm4od2lubmVyKQp9ICMgZW5kIHJvY2tfcGFwZXJfc2Npc3NvcnMKCmBgYAoKCiMjIyMgVGhlIHNpbXVsYXRpb24KYGBge3Igc2ltdWxhdGlvbn0KIyBOdW1iZXIgb2YgdHJpYWxzIHRvIHJ1biAtLSBtb3JlIGlzIHVzdWFsbHkgYmV0dGVyCm5fdHJpYWxzIDwtIDEwMDAwMAoKIyBWZWN0b3IgdG8gYWNjcnVlIHJlc3VsdHMKZ2FtZV9yZXN1bHRfdmVjdG9yIDwtIGMoKQoKIyBMb29wCmZvciAoaSBpbiAxOm5fdHJpYWxzKQp7CiAgIyBDb21wdXRlIHRoZSB3aW5uZXIKICBnYW1lX3Jlc3VsdCA8LSByb2NrX3BhcGVyX3NjaXNzb3JzKCkKICAKICAjIEFjY3J1ZQogIGdhbWVfcmVzdWx0X3ZlY3RvcltpXSA8LSBnYW1lX3Jlc3VsdAp9CgoKIyBBdCB0aGUgZW5kIG9mIHRoZSBmb3IgbG9vcCwgd2UgaGF2ZSAxMDAsMDAwIGdhbWUgcmVzdWx0cy4KIyBXZSBjYW4gZmluZCB0aGUgZnJlcXVlbmN5IGRpc3RyaWJ1dGlvbiBvZiB0aGVzZSBjYXRlZ29yaWNhbAojIGRhdGEgdXNpbmcgZnVuY3Rpb24gdGFibGUKCmZkIDwtIHRhYmxlKGdhbWVfcmVzdWx0X3ZlY3RvcikKcHJpbnQoZmQpCgoKYGBgCgpPdXIgc2ltdWxhdGlvbiBzaG93cyB0aGF0LCB3aGVuIGJvdGggcGxheWVycyBzZWxlY3QgdGhlaXIgbW92ZXMgcmFuZG9tbHksIHRoZSBwcm9iYWJpbGl0eSBvZiBhIGRyYXcgaXMgYXBwcm94aW1hdGVseSAxLzMsIGFzIGlzIHRoZSBwcm9iYWJpbGl0eSBvZiBlYWNoIHBsYXllciB3aW5uaW5nLiBUaGF0IGlzLCBhbGwgb3V0Y29tZXMgYXJlIGVxdWFsbHkgbGlrZWx5LgoKCiMjIyMgQ29tcGFyaW5nIHN0cmF0ZWdpZXMKCldoZW4gdmVyeSBzbWFsbCBjaGlsZHJlbiBwbGF5IFJvY2stUGFwZXItU2Npc3NvcnMsIHRoZXkgb2Z0ZW4gcGljayBvbmUgbW92ZSBhbmQgdXNlIGl0IGV2ZXJ5IHRpbWUuIFRoaXMgbWFrZXMgdGhlbSBleHRyZW1lbHkgZWFzeSB0byBiZWF0LiBNb2RpZnkgeW91ciBnYW1lIGZ1bmN0aW9uIHNvIHRoYXQgb25lIG9mIHRoZSBwbGF5ZXJzIChlLmcuICJib2IiIGluIG15IHNvbHV0aW9uKSBhbHdheXMgcGlja3MgU2Npc3NvcnMuIFdoYXQgb3V0Y29tZSBwcm9iYWJpbGl0aWVzIHdvdWxkIHlvdSBwcmVkaWN0IHVuZGVyIHRoaXMgbmV3IHN0cmF0ZWd5LCB3aGVyZSBvbmUgcGxheWVyJ3MgbW92ZSBpcyBmaXhlZD8gUmVwZWF0IHlvdXIgc2ltdWxhdGlvbi4gV2FzIHlvdXIgcHJlZGljdGlvbiBjb25maXJtZWQ/IElmIG5vdCwgZXhwbGFpbiB0aGUgdW5leHBlY3RlZCByZXN1bHQuIAoKCgoKCgoKCgoKCgoKCgoKCgoKCg==</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("zoom_notes_08.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
